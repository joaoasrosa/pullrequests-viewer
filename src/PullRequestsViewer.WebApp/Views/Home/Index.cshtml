@model IReadOnlyList<PullRequestsViewer.Domain.PullRequest>
<div class="page-header">
    <h1>Pull Requests. <small>Open pull requests.</small></h1>
</div>

@if (Model == null)
{
    <div class="jumbotron">
        <h2>Configuration required</h2>
        <p>You do not have any configured repositories.</p>
        <p><a class="btn btn-primary btn-lg" href="@Url.Action("Index", "Repository")" role="button">Configure repositories</a></p>
    </div>
}
else if (Model.Any())
{
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(x => x.First().Number)</th>
                    <th>@Html.DisplayNameFor(x => x.First().Title)</th>
                    <th>@Html.DisplayNameFor(x => x.First().AuthorName)</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var pullRequest in Model)
                {
                    <tr class="clickable-row" data-href="@pullRequest.HtmlUrl">
                        <td>
                            @Html.Label(pullRequest.Number.ToString())
                        </td>
                        <td>
                            @Html.Label(pullRequest.Title)
                            @Html.Label(pullRequest.Description)
                        </td>
                        <td>
                            @Html.Label(pullRequest.AuthorName)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Remove it after move to reactive implementation. This is bad... So bad baby... -->
    <script type="text/javascript">
        setTimeout(function () {
            window.location.reload(1);
        }, 30000);
    </script>
}
else
{
    <p>You do not have any open pull requests.</p>
}